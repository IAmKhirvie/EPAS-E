/* Reset and base styles */
:root {
    --primary: #0d6efd;
    --primary-light: #3c8bff;
    --primary-dark: #0056b3;
    --primary-foreground: #0d6efd29;
    --secondary: #7209b7;
    --success: #4cc9f0;
    --warning: #f2c71c;
    --light: #f8f9fa;
    --dark: #212529;
    --gray: #6c757d;
    --light-gray: #d4d4d4;
    --card: white;
    --border-radius: 8px;
    --transition: all 0.3s ease;
    --danger: #f31f1f;
    --sidebar-width: 250px;
    --sidebar-width-collapsed: 60px;
    --sidebar-bg: #1e293b;
    --sidebar-border: #374151;
    --sidebar-submenu-bg: rgba(0, 0, 0, 0.1);
    --foreground: #9ca7b3;
    --muted-foreground: #94a3b8;
    --border: #374151;
    --radius: 8px;
    --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --transition-speed: 0.3s;
    --background: #f0f0f0;
    --text-primary: #212529;
    --card-bg: #f8f9fa;
    --card-text: #212529;
    --card-border: #e0e0e0;
    --card-header-bg: #f8f9fa;
    --card-header-text: #212529;
}

.dark-mode {
    --background: #202020;
    --foreground: #f8f9fa;
    --card: #1a1a1a;
    --card-foreground: #f8f9fa;
    --primary: #3b82f6;
    --primary-foreground: #478aff9f;
    --secondary: #262626;
    --secondary-foreground: #f8f9fa;
    --muted: #262626;
    --muted-foreground: #a1a1aa;
    --accent: #262626;
    --accent-foreground: #f8f9fa;
    --border: #656565;
    --sidebar-bg: #181818;
    --sidebar-foreground: #f8f9fa;
    --sidebar-border: #2d2d2d;
    --light-gray: #1a1a1a;
    --text-primary: #f8f9fa;
    --light: #f8f9fa;
    --dark: #1a1a1a;
    --gray: #a1a1aa;
    --card-bg: #2a2a2a;
    --card-text: #f8f9fa;
    --card-border: #000;
    --card-header-bg: #222121;
    --card-header-text: #f8f9fa;
}

/* Reset and base layout fixes */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  width: 100%;
  overflow-x: hidden; /* Prevent horizontal scroll */
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color: var(--background);
  color: var(--text-primary);
  line-height: 1.6;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  position: relative;
}

/* Fix for mobile layout */
.layout-wrapper {
  margin-top: 4rem;
  min-height: calc(100vh - 56px);
  width: 100%;
  display: flex;
  flex-direction: column;
  flex: 1;
  position: relative;
}

.navbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: var(--z-navbar);
  width: 100%;
}

/* Smooth transitions for all interactive elements */
* {
  transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
}

/* Card Styles with Dark Mode */
.card {
  background-color: var(--card-bg);
  color: var(--card-text);
  border: 1px solid var(--card-border);
  transition: all 0.3s ease;
}

.card-header {
  background-color: var(--card-header-bg);
  color: var(--card-header-text);
  border-bottom: 1px solid var(--card-border);
}

.card-body {
  background-color: var(--card-bg);
  color: var(--card-text);
  border-radius: var(--border-radius);
}

.card-title {
  color: var(--card-header-text);
}

.card-text {
  color: var(--card-text);
}

.card-footer {
  background-color: var(--card-header-bg);
  color: var(--card-text);
  border-top: 1px solid var(--card-border);
}

/* Text colors for dark mode */
.dark-mode .text-muted {
  color: var(--muted-foreground) !important;
}

.dark-mode .text-dark {
  color: var(--text-primary) !important;
}

.dark-mode .text-light {
  color: var(--dark) !important;
}

/* Badge colors for dark mode */
.dark-mode .badge {
  color: white;
}

.dark-mode .badge.bg-light {
  background-color: var(--muted) !important;
  color: var(--text-primary) !important;
}

.dark-mode .badge.bg-secondary {
  background-color: var(--gray) !important;
}

/* Alert colors for dark mode */
.dark-mode .alert {
  background-color: var(--card-bg);
  color: var(--card-text);
  border-color: var(--border);
}

.dark-mode .alert-info {
  background-color: rgba(13, 110, 253, 0.1);
  border-color: rgba(13, 110, 253, 0.3);
}

.dark-mode .alert-warning {
  background-color: rgba(255, 193, 7, 0.1);
  border-color: rgba(255, 193, 7, 0.3);
}

.dark-mode .alert-success {
  background-color: rgba(25, 135, 84, 0.1);
  border-color: rgba(25, 135, 84, 0.3);
}

/* Form controls for dark mode */
.dark-mode .form-control {
  background-color: var(--card-bg);
  color: var(--card-text);
  border-color: var(--border);
}

.dark-mode .form-control:focus {
  background-color: var(--card-bg);
  color: var(--card-text);
  border-color: var(--primary);
  box-shadow: 0 0 0 0.2rem rgba(59, 130, 246, 0.25);
}

.dark-mode .form-select {
  background-color: var(--card-bg);
  color: var(--card-text);
  border-color: var(--border);
}

.dark-mode .form-label {
  color: var(--card-text);
}

/* Table styles for dark mode */
.dark-mode .table {
  color: var(--card-text);
  background-color: var(--card-bg);
}

.dark-mode .table th,
.dark-mode .table td {
  border-color: var(--border);
  background-color: var(--card-bg);
}

.dark-mode .table-hover tbody tr:hover {
  background-color: var(--light);
  color: var(--text-primary);
}

/* Dropdown styles for dark mode */
.dark-mode .dropdown-menu {
  background-color: var(--card-bg);
  border-color: var(--border);
}

.dark-mode .dropdown-item {
  color: var(--card-text);
}

.dark-mode .dropdown-item:hover {
  background-color: var(--primary-foreground);
  color: var(--light);
}

/* Content Management Dark Mode Styles */
.dark-mode .accordion-item {
    background-color: var(--card-bg);
    border-color: var(--border);
}

.dark-mode .accordion-button {
    background-color: var(--card-bg);
    color: var(--card-text);
}

.dark-mode .accordion-button:not(.collapsed) {
    background-color: var(--card-header-bg);
    color: var(--card-header-text);
    border-bottom-color: var(--border);
}

.dark-mode .accordion-button:hover {
    background-color: var(--light-gray);
    color: var(--card-text);
}

.dark-mode .accordion-body {
    background-color: var(--card-bg);
    color: var(--card-text);
}

.dark-mode .accordion-body.bg-light {
    background-color: var(--light-gray) !important;
}

.dark-mode .accordion-button.bg-white {
    background-color: var(--card-bg) !important;
    color: var(--card-text) !important;
}

.dark-mode .accordion-button.bg-light {
    background-color: var(--light-gray) !important;
    color: var(--card-text) !important;
}

/* Card styles for content management */
.dark-mode .bg-white {
    background-color: var(--card-bg) !important;
}

.dark-mode .bg-light {
    background-color: var(--light-gray) !important;
}

.dark-mode .rounded {
    border-color: var(--border) !important;
}

.dark-mode .border {
    border-color: var(--border) !important;
}

.dark-mode .border.rounded {
    border-color: var(--border) !important;
}

/* List group items */
.dark-mode .list-group-item {
    background-color: var(--card-bg);
    color: var(--card-text);
    border-color: var(--border);
}

.dark-mode .list-group-item:hover {
    background-color: var(--light-gray);
    border-left-color: var(--primary);
}

/* Add content section */
.dark-mode .add-content-section {
    background: linear-gradient(135deg, var(--light-gray) 0%, var(--card-header-bg) 100%) !important;
    border-color: var(--border) !important;
}

.dark-mode .add-content-section h5 {
    color: var(--success) !important;
}

/* Text colors for headings */
.dark-mode .h1, 
.dark-mode .h2, 
.dark-mode .h3, 
.dark-mode .h4, 
.dark-mode .h5, 
.dark-mode .h6 {
    color: var(--card-header-text) !important;
}

.dark-mode .text-primary {
    color: var(--primary) !important;
}

.dark-mode .text-info {
    color: var(--success) !important;
}

.dark-mode .text-warning {
    color: var(--warning) !important;
}

.dark-mode .text-success {
    color: #4cc9f0 !important;
}

.dark-mode .text-muted {
    color: var(--muted-foreground) !important;
}

.dark-mode .text-dark {
    color: var(--card-text) !important;
}

/* Badge colors */
.dark-mode .badge.bg-primary {
    background-color: var(--primary) !important;
    color: white !important;
}

.dark-mode .badge.bg-success {
    background-color: #198754 !important;
    color: white !important;
}

.dark-mode .badge.bg-info {
    background-color: var(--success) !important;
    color: white !important;
}

.dark-mode .badge.bg-warning {
    background-color: var(--warning) !important;
    color: var(--dark) !important;
}

.dark-mode .badge.bg-secondary {
    background-color: var(--gray) !important;
    color: white !important;
}

.dark-mode .badge.bg-danger {
    background-color: var(--danger) !important;
    color: white !important;
}

/* Button outlines - consolidated */
.dark-mode .btn-outline-primary {
    color: var(--primary);
    border-color: var(--primary);
}

.dark-mode .btn-outline-primary:hover {
    background-color: var(--primary);
    color: white;
}

.dark-mode .btn-outline-secondary {
    color: var(--muted-foreground);
    border-color: var(--muted-foreground);
}

.dark-mode .btn-outline-secondary:hover {
    background-color: var(--muted-foreground);
    color: var(--card-bg);
}

.dark-mode .btn-outline-success {
    color: #198754;
    border-color: #198754;
}

.dark-mode .btn-outline-success:hover {
    background-color: #198754;
    color: white;
}

.dark-mode .btn-outline-danger {
    color: var(--danger);
    border-color: var(--danger);
}

.dark-mode .btn-outline-danger:hover {
    background-color: var(--danger);
    color: white;
}

/* Modal dark mode */
.dark-mode .modal-content {
    background-color: var(--card-bg);
    color: var(--card-text);
    border-color: var(--border);
}

.dark-mode .modal-header {
    background-color: var(--card-header-bg);
    color: var(--card-header-text);
    border-bottom-color: var(--border);
}

.dark-mode .modal-footer {
    background-color: var(--card-header-bg);
    border-top-color: var(--border);
}

.dark-mode .modal-title {
    color: var(--card-header-text);
}

.dark-mode .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
}

/* Empty states */
.dark-mode .text-center.py-5 {
    color: var(--card-text);
}

.dark-mode .text-center.py-5 .text-muted {
    color: var(--muted-foreground) !important;
}

.dark-mode .fa-3x.text-muted {
    color: var(--muted-foreground) !important;
}

/* Icons in accordion headers */
.dark-mode .accordion-button .text-primary {
    color: var(--primary) !important;
}

.dark-mode .accordion-button .text-info {
    color: var(--success) !important;
}

.dark-mode .accordion-button .text-warning {
    color: var(--warning) !important;
}

/* Alert colors */
.dark-mode .alert-success {
    background-color: rgba(25, 135, 84, 0.2);
    border-color: rgba(25, 135, 84, 0.3);
    color: #a3e4b9;
}

.dark-mode .alert-danger {
    background-color: rgba(243, 31, 31, 0.2);
    border-color: rgba(243, 31, 31, 0.3);
    color: #f8a5a5;
}

/* Content items section */
.dark-mode .content-items h5 {
    color: var(--muted-foreground) !important;
    border-bottom-color: var(--border);
}

.dark-mode .content-items h6.text-primary {
    color: var(--primary) !important;
}

.dark-mode .content-items h6.text-warning {
    color: var(--warning) !important;
}

/* Button group */
.dark-mode .btn-group .btn-outline-primary {
    color: var(--primary);
    border-color: var(--primary);
}

.dark-mode .btn-group .btn-outline-primary:hover {
    background-color: var(--primary);
    color: white;
}

.dark-mode .btn-group .btn-outline-danger {
    color: var(--danger);
    border-color: var(--danger);
}

.dark-mode .btn-group .btn-outline-danger:hover {
    background-color: var(--danger);
    color: white;
}

/* Small text adjustments */
.dark-mode .small {
    color: var(--muted-foreground);
}

/* Grid layout adjustments */
.dark-mode .d-grid .btn-outline-success {
    color: #198754;
    border-color: #198754;
}

.dark-mode .d-grid .btn-outline-success:hover {
    background-color: #198754;
    color: white;
}

/* ===== MOBILE RESPONSIVENESS FIXES ===== */

/* Tablet and Mobile devices (< 1032px) */
@media (max-width: 1032px) {
  html, body {
    width: 100%;
    height: 100%;
    overflow-x: hidden;
    position: relative;
  }
  
  body {
    display: block;
    overflow-x: hidden;
  }
  
  .layout-wrapper {
    margin-top: 3.5rem;
    width: 100%;
    min-height: calc(100vh - 3.5rem);
    display: block;
    overflow-x: hidden;
    position: relative;
  }
  
  .navbar {
    height: 3.5rem;
  }
  
  header.navbar {
    padding: 0 0.5rem;
  }
  
  .main-content {
    width: 100%;
    margin-left: 0 !important;
    padding: 0.5rem;
    overflow-x: hidden;
  }
  
  .content-area {
    border-radius: 8px;
    width: 100%;
    margin: 0;
    padding: 0.75rem;
    overflow-x: hidden;
  }
  
  .fab-container {
    bottom: calc(60px + 1.25rem);
    right: 1.25rem;
  }

  .fab-main {
    width: 3.5rem;
    height: 3.5rem;
    font-size: 1.375rem;
  }

  /* Ensure all containers take full width */
  .container, .container-fluid {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
    max-width: 100%;
  }
}

/* Small mobile devices */
@media (max-width: 576px) {
  .layout-wrapper {
    margin-top: 4.5rem;
    width: 100%;
    min-height: calc(100vh - 3.5rem);
  }
  
  .sidebar {
    width: 100%;
    left: -100%;
  }
  
  .user-card {
    padding: 1rem 0;
  }
  
  .sidebar-nav .nav-link {
    padding: 0.75rem;
  }
  
  .slide-sidebar {
    width: 100%;
  }
  
  .main-content {
    padding: 0.25rem;
    width: 100%;
  }
  
  .content-area {
    padding: 0.75rem;
    border-radius: 6px;
    width: 100%;
    margin: 0;
  }
}

/* Extra small devices */
@media (max-width: 360px) {
  .layout-wrapper {
    margin-top: 3.5rem;
    width: 100%;
  }
  
  .main-content {
    padding: 0.125rem;
    width: 100%;
  }
  
  .content-area {
    padding: 0.5rem;
    border-radius: 4px;
    width: 100%;
  }
}

/* Safe area support for notched phones */
@supports(padding: max(0px)) {
  @media (max-width: 1032px) {
    .main-content {
      padding-left: max(0.25rem, env(safe-area-inset-left));
      padding-right: max(0.25rem, env(safe-area-inset-right));
      padding-bottom: max(0.25rem, env(safe-area-inset-bottom));
    }
    
    .layout-wrapper {
      padding-left: max(0px, env(safe-area-inset-left));
      padding-right: max(0px, env(safe-area-inset-right));
    }
  }
}

/* Fix for flexbox scrolling issues on mobile */
.mobile-users-container,
.table-container {
  min-height: 0;
  width: 100%;
}

/* Ensure proper width calculation (exclude fixed-position elements) */
*:not(.sidebar):not(.sidebar-backdrop):not(.top-navbar):not(.bottom-nav):not(.fab-container):not(.fab-backdrop):not(.overlay):not(.slide-sidebar) {
  max-width: 100%;
}

* {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}
